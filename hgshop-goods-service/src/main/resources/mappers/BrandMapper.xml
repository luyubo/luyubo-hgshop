<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.luyubo.hgshop.dao.BrandDao">

<!-- id;
	private String name;
	private String firstChar;
	private Integer deletedFlag;
 -->
 
 <select id="list" resultType="Brand">
 	select id,name,first_char firstChar,deleted_flag deleteFlag from hg_brand
 	<where>
 		deleted_flag=0
 		<if test="value!=null and value!=''">
 			and first_char like concat('%',#{value},'%')
 		</if>
 	</where>
 </select>
 
<update id="delete">
	update hg_brand set deleted_flag=1 where id=#{value}
</update>

<delete id="deleteBatch">
	update hg_brand set deleted_flag=1 where id in
	<foreach collection="array" open="(" close=")" separator="," item="id">
		#{id}
	</foreach>
</delete>
 
<!-- <resultMap type="Category" id="catMapper">
	<id column="id" property="id"/>
	<result column="parent_id" property="parentId"/>
	<collection property="children" column="id" select="listChildren"></collection>
</resultMap>

<select id="listChildren" resultMap="catMapper">
	select * from hg_category where parent_id=#{value}
</select>

<select id="tree" resultMap="catMapper">
	select * from hg_category where parent_id=0
</select>

<insert id="add" useGeneratedKeys="true" keyColumn="id" keyProperty="id">
	insert into hg_category(parent_id,name) value(#{parentId},#{name})
</insert>



<update id="update">
	update hg_category set name = #{name} where id=#{id}
</update>
 -->
</mapper>